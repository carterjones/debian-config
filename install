#!/bin/sh

# Install packages.
echo Installing emacs and terminator...
apt-get -qq -y install terminator

# Set up generic folders and config files.
if [ ! -e ~/bin ]; then echo Creating ~/bin...; mkdir ~/bin; fi
if [ ! -e ~/code ]; then echo Creating ~/code...; mkdir ~/code; fi
echo Copying new .bashrc file...
if [ -e ~/.bashrc ]; then mv ~/.bashrc ~/.bashrc.bak; fi
cp ./.bashrc ~/.bashrc
echo Copying new .bash_aliases file...
if [ -e ~/.bash_aliases ]; then mv ~/.bash_aliases ~/.bash_aliases.bak; fi
cp ./.bash_aliases ~/.bash_aliases

# Add bgrep.
if [ -e ~/bin/bgrep ]; then cp ~/bin/bgrep ~/bin/bgrep.bak; fi
gcc -O2 -x c -o ~/bin/bgrep ./plugins/bgrep/bgrep.c

# Set up terminator config file.
echo Setting up terminator customizations...
mkdir -p ~/.config/terminator
cp -n ./.config/terminator/config ~/.config/terminator/config

# Copy custom utilities.
echo Setting up ~/bin...
cp -n ./bin/ipaddr ~/bin/ipaddr; chmod +x ~/bin/ipaddr
cp -n ./bin/full-upgrade ~/bin/full-upgrade; chmod +x ~/bin/full-upgrade
cp -n ./bin/battery ~/bin/battery; chmod +x ~/bin/battery

# Leave installer.
echo Finished installation.
