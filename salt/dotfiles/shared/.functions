# https://twitter.com/francesc/status/982025296898478080
whoseport() { lsof -i ":$1" | grep LISTEN }

# Show which ports are listening.
listening() {
    if echo $(uname -a) | grep -q Linux; then
        # This only works with recent versions of ss.
        sudo ss -H -p -l -4 "sport = :$1"|sed "s/^.*pid=\(.*\),.*$/\1/"
    else
        lsof -PiTCP -sTCP:LISTEN
    fi
}

# tmux
t() {
    if ps -A | grep tmux | grep -v grep >/dev/null; then
        # tmux is running, so we attach
        tmux a
    else
        # otherwise, we start tmux
        tmux
    fi
}

tk() {
    tmux kill-server
}
